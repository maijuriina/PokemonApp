{"ast":null,"code":"'use strict';\n\nfunction tryStringify(o) {\n  try {\n    return JSON.stringify(o);\n  } catch (e) {\n    return '\"[Circular]\"';\n  }\n}\n\nmodule.exports = format;\n\nfunction format(f, args, opts) {\n  var ss = opts && opts.stringify || tryStringify;\n  var offset = 1;\n\n  if (typeof f === 'object' && f !== null) {\n    var len = args.length + offset;\n    if (len === 1) return f;\n    var objects = new Array(len);\n    objects[0] = ss(f);\n\n    for (var index = 1; index < len; index++) {\n      objects[index] = ss(args[index]);\n    }\n\n    return objects.join(' ');\n  }\n\n  if (typeof f !== 'string') {\n    return f;\n  }\n\n  var argLen = args.length;\n  if (argLen === 0) return f;\n  var str = '';\n  var a = 1 - offset;\n  var lastPos = -1;\n  var flen = f && f.length || 0;\n\n  for (var i = 0; i < flen;) {\n    if (f.charCodeAt(i) === 37 && i + 1 < flen) {\n      lastPos = lastPos > -1 ? lastPos : 0;\n\n      switch (f.charCodeAt(i + 1)) {\n        case 100: // 'd'\n\n        case 102:\n          // 'f'\n          if (a >= argLen) break;\n          if (args[a] == null) break;\n          if (lastPos < i) str += f.slice(lastPos, i);\n          str += Number(args[a]);\n          lastPos = i + 2;\n          i++;\n          break;\n\n        case 105:\n          // 'i'\n          if (a >= argLen) break;\n          if (args[a] == null) break;\n          if (lastPos < i) str += f.slice(lastPos, i);\n          str += Math.floor(Number(args[a]));\n          lastPos = i + 2;\n          i++;\n          break;\n\n        case 79: // 'O'\n\n        case 111: // 'o'\n\n        case 106:\n          // 'j'\n          if (a >= argLen) break;\n          if (args[a] === undefined) break;\n          if (lastPos < i) str += f.slice(lastPos, i);\n          var type = typeof args[a];\n\n          if (type === 'string') {\n            str += '\\'' + args[a] + '\\'';\n            lastPos = i + 2;\n            i++;\n            break;\n          }\n\n          if (type === 'function') {\n            str += args[a].name || '<anonymous>';\n            lastPos = i + 2;\n            i++;\n            break;\n          }\n\n          str += ss(args[a]);\n          lastPos = i + 2;\n          i++;\n          break;\n\n        case 115:\n          // 's'\n          if (a >= argLen) break;\n          if (lastPos < i) str += f.slice(lastPos, i);\n          str += String(args[a]);\n          lastPos = i + 2;\n          i++;\n          break;\n\n        case 37:\n          // '%'\n          if (lastPos < i) str += f.slice(lastPos, i);\n          str += '%';\n          lastPos = i + 2;\n          i++;\n          a--;\n          break;\n      }\n\n      ++a;\n    }\n\n    ++i;\n  }\n\n  if (lastPos === -1) return f;else if (lastPos < flen) {\n    str += f.slice(lastPos);\n  }\n  return str;\n}","map":null,"metadata":{},"sourceType":"script"}